<div data-section-id="{{ section.id }}" data-section-type="product-list">

  {% if section.settings.title != blank %}
  <div class="section-header section-header--small">
    <h2 class="section-header__title">{{ section.settings.title | escape }}</h2>
  </div>
  {% endif %}

  <div class="grid-uniform">
    {% case section.blocks.size %}
      {% when 1 %}
        {%- assign collection_item_width = 'one-half' -%}
        {%- assign collection_width = 625 -%}
      {% when 2 %}
        {%- assign collection_item_width = 'one-half' -%}
        {%- assign collection_width = 625 -%}
      {% when 3 %}
        {%- assign collection_item_width = 'medium-down--one-half one-third' -%}
        {%- assign collection_width = 410 -%}
      {% when 4 %}
        {%- assign collection_item_width = 'medium-down--one-half one-quarter' -%}
        {%- assign collection_width = 330 -%}
      {% when 5 %}
        {%- assign collection_item_width = 'small--one-half medium--one-third post-large--one-fifth' -%}
        {%- assign collection_width = 235 -%}
    {% endcase %}
    
    {%- assign collection = collections[section.settings.collection] -%}
    {%- assign product_limit = section.settings.product_count -%}
    
    {% for featured in collection.products limit: product_limit %}
      <div class="grid__item {{collection_item_width}} text-center">
                 {% include 'product-grid-item' with product_width: product_width %}

      </div>
    {% endfor %}
    
    {% comment %}
    {% for block in section.blocks limit: section.blocks.size %}
      {% assign featured = block.settings.collection %}
      <div class="grid__item {{collection_item_width}} text-center" {{ block.shopify_attributes }}>
        {% include 'collection-grid-item' %}
      </div>
    {% endfor %}
    {% endcomment %}
  </div>
</div>


 <div class="best-seller-carousel-mobile">
    {% case section.blocks.size %}
      {% when 1 %}
        {%- assign collection_item_width = 'one-half' -%}
        {%- assign collection_width = 625 -%}
      {% when 2 %}
        {%- assign collection_item_width = 'one-half' -%}
        {%- assign collection_width = 625 -%}
      {% when 3 %}
        {%- assign collection_item_width = 'medium-down--one-half one-third' -%}
        {%- assign collection_width = 410 -%}
      {% when 4 %}
        {%- assign collection_item_width = 'medium-down--one-half one-quarter' -%}
        {%- assign collection_width = 330 -%}
      {% when 5 %}
        {%- assign collection_item_width = 'small--one-half medium--one-third post-large--one-fifth' -%}
        {%- assign collection_width = 235 -%}
    {% endcase %}
    
    {%- assign collection = collections[section.settings.collection] -%}
    {%- assign product_limit = section.settings.product_count -%}
    
    {% for featured in collection.products limit: product_limit %}
      <div class="section-block-mobile {{collection_item_width}} text-center">
                 {% include 'product-grid-item' with product_width: product_width %}

      </div>
   
    {% endfor %}
   
   {% comment %}
    
    {% for block in section.blocks limit: section.blocks.size %}
      {% assign featured = block.settings.collection %}
      <div class=" {{collection_item_width}} text-center" {{ block.shopify_attributes }}>
        {% include 'collection-grid-item' %}
      </div>
    {% endfor %}
   
   {% endcomment %}
  </div>



{% schema %}
 {
 	"name": "Best Sellers",
 	"settings": [{
 			"type": "text",
 			"id": "title",
 			"label": "heading",
 			"default": "Best Sellers"
 		},
 		{
 			"type": "collection",
 			"id": "collection",
 			"label": "Collection"
 		},
        {
            "type": "range",
            "id": "product_count",
            "min": 4,
            "max": 12,
            "label": "Number of products to display",
            "default": 4
        }
 	],
 	"presets": [{
 		"name": "Best Sellers ",
 		"category": "Advanced",
        "settings": {}
 	}]
 }
  
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
